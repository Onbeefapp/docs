type: object
title: OrderDetailsResponse
properties:
  id:
    type: string
    format: uuid
    description: O identificador único do pedido. O `orderId` é gerado pela Onbeef.
  type:
    type: string
    enum:
    - DELIVERY
    - TAKEOUT
    description: |
      `DELIVERY` - para pedidos que serão entregues no endereço do cliente.

      `TAKEOUT` - para pedidos que serão retirados pelo cliente no estabelecimento.
  sourceAppId:
    type: string
    format: uuid
    nullable: true
    description: |
      AppId da Onbeef. 
  virtualBrand:
    type: string
    nullable: true
    description: |
      Pode ser usado como um id alternativo para o Merchant, no momento a Onbeef só retorna null.
  displayId:
    type: string
    description: Código do pedido exibido na interface da Onbeef para o cliente.
  salesChannel:
    type: string
    description: Indica através de qual canal de vendas este pedido foi originado.
  createdAt:
    type: string
    format: date-time
    description: Data e hora de criação do pedido, seguindo o padrão ISO 8601 em UTC+0.
  lastEvent:
    type: string
    enum:
    - CREATED
    - CONFIRMED
    - DISPATCHED
    - READY_FOR_PICKUP
    - PICKUP_AREA_ASSIGNED
    - DELIVERED
    - CONCLUDED
    - CANCELLATION_REQUESTED
    - CANCELLATION_REQUEST_DENIED
    - CANCELLED
    - CANCELLED_DENIED
    - ORDER_CANCELLATION_REQUEST
    description: Último evento válido polled (acknowledged ou não) ou enviado via webhook.
  merchant:
    type: object
    description: Dados básicos do Merchant.
    properties:
      id:
        type: string
        format: uuid
        description: O identificador único do Merchant.
      name:
        type: string
        description: O nome do Merchant.
  items:
    type: array
    description: Itens do pedido.
    items:
      $ref: '#/components/schemas/OrderDetailsItemsRequest'
  otherFees:
    type: array
    description: Taxas adicionais, relacionadas a este item.
    items:
      type: object
      properties:
        name:
          type: string
          description: O nome da taxa.
        type:
          type: string
          description: O tipo da taxa.
          enum:
          - DELIVERY_FEE
          - SERVICE_FEE
        price:
          type: object
          description: Informações sobre o preço da taxa.
          properties:
            value:
              type: number
              description: Valor do preço (até 4 casas decimais).
            currency:
              type: string
              description: Código da moeda (ISO 4217, 3 letras).
              enum:
              - BRL
  discounts:
    type: array
    description: Descontos aplicáveis, se houver.
    items:
      type: object
      properties:
        amount:
          type: object
          description: Valor do desconto aplicado.
          properties:
            value:
              type: number
              description: Valor do preço (até 4 casas decimais).
            currency:
              type: string
              description: Código da moeda (ISO 4217, 3 letras).
              enum:
              - BRL
        target:
          type: string
          description: O destino do desconto.
          enum:
          - CART
          - DELIVERY_FEE
        sponsorshipValues:
          type: array
          description: |
            Valores patrocinados por qualquer das partes. A soma dos valores listados neste atributo deve corresponder ao valor informado no atributo `amount` acima.
          items:
            type: object
            properties:
              name:
                type: string
                description: Quem forneceu o patrocino.
                enum:
                - MARKETPLACE
                - MERCHANT
                - CHAIN
              amount:
                type: object
                description: Desconto fornecido pelo patrocinador.
                properties:
                  value:
                    type: number
                    description: Valor do preço (até 4 casas decimais).
                  currency:
                    type: string
                    description: Código da moeda (ISO 4217, 3 letras).
                    enum:
                    - BRL
  total:
    type: array
    description: Conjunto de campos que totalizam os valores descritos anteriormente no pedido.
    items:
      type: object
      properties:
        itemsPrice:
          type: object
          description: Total do preço dos itens listados no atributo `items`.
          properties:
            value:
              type: number
              description: Valor do preço (até 4 casas decimais).
            currency:
              type: string
              description: Código da moeda (ISO 4217, 3 letras).
              enum:
              - BRL
        otherFees:
          type: object
          description: Total das taxas listadas no atributo `otherFees`.
          properties:
            value:
              type: number
              description: Valor do preço (até 4 casas decimais).
            currency:
              type: string
              description: Código da moeda (ISO 4217, 3 letras).
              enum:
              - BRL
        discount:
          type: object
          description: Soma de quaisquer descontos que possam estar listados no atributo `discounts`.
          properties:
            value:
              type: number
              description: Valor do preço (até 4 casas decimais).
            currency:
              type: string
              description: Código da moeda (ISO 4217, 3 letras).
              enum:
              - BRL
        orderAmount:
          type: object
          description: Valor final do pedido, incluindo os descontos e taxas.
          properties:
            value:
              type: number
              description: Valor do preço (até 4 casas decimais).
            currency:
              type: string
              description: Código da moeda (ISO 4217, 3 letras).
              enum:
              - BRL
  costumer:
    type: object
    description: Dados básicos do cliente.
    properties:
      id:
        type: string
        format: uuid
        description: O identificador único do cliente.
      name:
        type: string
        description: O nome do cliente.
      phone:
        type: object
        description: Informações sobre o telefone do cliente.
        properties:
          number:
            type: string
          extension:
            type: string
      email:
        type: string
        format: email
        description: O e-mail do cliente.
      documentNumber:
        type: string
        description: Documento do cliente.
      ordersCountOnMerchant:
        type: integer
        description: Número total de pedidos que o cliente já realizou com o Merchant.
  schedule:
    type: object
    description: Informações para pedidos agendados.
    properties:
      scheduledDateTimeStart:
        type: string
        format: date-time
        description: Data e hora em que o pedido estará pronto, seguindo o padrão ISO 8601 em UTC+0.
      scheduledDateTimeEnd:
        type: string
        format: date-time
        description: Data e hora em que o pedido estará pronto, seguindo o padrão ISO 8601 em UTC+0.
  orderTiming:
    type: string
    enum:
    - INSTANT
    - SCHEDULED
    description: |
      Indica o momento de início do pedido:

      `INSTANT`: para pedidos que devem ser preparados imediatamente.

      `SCHEDULED`: para pedidos agendados para uma data e hora específicas.
  preparationStartDateTime:
    type: string
    format: date-time
    description: Sugestão de horário de início da preparação após a criação do pedido, seguindo o padrão ISO 8601 em UTC+0.
  payments:
    type: object
    description: Todas as informações sobre o pagamento, como métodos, pré-pagamentos, troco, etc.
    properties:
      prepaid:
        type: number
        format: decimal
        description: Valor pago antecipadamente.
      pending:
        type: number
        format: decimal
        description: Valor pendente de pagamento.
      methods:
        type: array
        description: O método de pagamento utilizado. Pode ser online, na entrega, cartão de crédito, voucher, dinheiro, etc.
        items:
          type: object
          properties:
            value:
              type: number
              format: decimal
              description: Valor do preço (até 4 casas decimais).
            currency:
              type: string
              description: Código da moeda (ISO 4217, 3 letras).
              enum:
              - BRL
            type:
              type: string
              description: |
                `PREPAID` se o pagamento foi feito por alguma plataforma, ou `PENDING` se será pago na entrega ou em dinheiro, por exemplo.
              enum:
              - PREPAID
              - PENDING
            method:
              type: string
              enum:
              - CREDIT
              - PIX
              - CREDIT_DEBIT
              - MEAL_VOUCHER
              - CASH
              - OTHER
  ExtraInfo:
    type: string
    description: Informações extras sobre o pedido.
  sendDelivered:
    type: boolean
    description: |
      Este campo indica se é necessário que o `Software Service` faça uma requisição para o endpoint POST 
      `/v1/orders/{orderId}/delivered` para informar a Onbeef que o pedido foi entregue ao cliente.

      `true`: Indica que o Aplicativo de Pedidos está aguardando a requisição.

      `false` ou não informado: Não é necessário fazer a requisição.
  sendTracking:
    type: boolean
    description: |
      Este campo indica se é necessário que o Software Service faça uma requisição para o endpoint POST `/v1/orders/{orderId}/pickedUp` para informar ao Aplicativo de Pedidos que o pedido foi retirado pelo cliente.

      `true`: Indica que o Aplicativo de Pedidos está aguardando a requisição.

      `false` ou não informado: Não é necessário fazer a requisição.
  delivery:
    type: object
    description: Informações para pedidos do tipo `DELIVERY`.
    properties:
      deliveredBy:
        type: string
        enum:
        - MERCHANT
        - MARKETPLACE
      deliveryAddress:
        type: object
        description: Endereço de entrega do pedido.
        properties:
          country:
            type: string
            description: Código do país com duas letras, conforme ISO 3166-1 alpha-2.
          state:
            type: string
            description: Estado ou subdivisão do país.
          city:
            type: string
            description: Nome da cidade.
          district:
            type: string
            description: Bairro ou distrito.
          street:
            type: string
            description: Nome da rua.
          number:
            type: string
            description: Número da rua.
          complement:
            type: string
            description: Complemento do endereço.
          reference:
            type: string
            description: Ponto de referência do endereço.
          formattedAddress:
            type: string
            description: Endereço completo formatado.
          postalCode:
            type: string
            description: Código postal.
          coordinates:
            type: object
            description: Coordenadas geográficas do endereço.
            properties:
              latitude:
                type: number
                description: Latitude em graus. Valores entre -90 e 90.
              longitude:
                type: numberŒ
                description: Longitude em graus. Valores entre -180 e 180.
          estimatedDeliveryDateTime:
            type: string
            format: date-time
            description: Data e hora estimada de entrega, seguindo o padrão ISO 8601 em UTC+0.
          deliveryDateTime:
            type: string
            format: date-time
            description: Data de entrega. A data e hora em que a entrega realmente ocorreu, seguindo o padrão ISO 8601 em UTC+0.
  takeout:
    type: object
    description: Informações referentes a pedidos para retirada `TAKEOUT`.
    properties:
      mode:
        type: string
      takeoutDateTime:
        type: string
        format: date-time
        description: Data e hora de retirada, seguindo o padrão ISO 8601 em UTC+0.
